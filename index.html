async function doParse() {  
    // ... 前面的 UI 逻辑保持不变 ...
    const myProxy = `https://qishui-music-tool.luokaikaichina.workers.dev/?url=${encodeURIComponent(targetUrl)}`;

    try {
        const res = await fetch(myProxy);
        
        // 如果这里报错，说明是跨域或网络问题
        if(!res.ok) {
            console.error("HTTP错误状态:", res.status);
            throw new Error(`服务器返回了错误码: ${res.status}。请检查 Worker 部署日志。`);
        }

        const html = await res.text();
        
        // ... 后面的匹配解析逻辑保持不变 ...
    } catch (e) {
        // 如果是跨域错误，这里通常会提示 "Failed to fetch"
        alert("解析失败: " + e.message + "\n建议: 按 F12 查看 Console 的具体错误信息。");
    } finally {
        loader.style.display = 'none';
        btn.disabled = false;
    }
}
